{"version":3,"sources":["components/Filter.js","components/AddPerson.js","components/AllPeople.js","services/persons.js","components/SuccessNotif.js","components/ErrorNotif.js","App.js","index.js"],"names":["Filter","value","onChange","persons","map","person","key","name","toLowerCase","includes","number","AddPerson","addPerson","newName","newNum","handleNameChange","handleNumChange","onSubmit","type","AllPeople","deletePerson","onClick","id","baseUrl","axios","get","then","response","data","personObj","post","delete","newObj","put","SuccessNotif","msg","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorNotif","App","useState","setPersons","setNewName","setNewNum","search","setSearch","sucMsg","setSucMsg","errMsg","setErrMsg","useEffect","personServ","curPersons","event","target","preventDefault","some","p","pers","find","window","confirm","retPerson","setTimeout","catch","error","filter","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.752a0983.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({value, onChange, persons}) => {\n    return (\n        <>\n            <input value={value} onChange={onChange}/>\n            {persons.map(person => \n                <p key={person.name}> {person.name.toLowerCase().includes(value.toLowerCase()) && value !== '' ? \n                        `${person.name} ${person.number}`:''}\n                </p>\n            )}\n        </>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst AddPerson = ({addPerson, newName, newNum, handleNameChange, handleNumChange}) => {\n    return (\n        <>\n            <form onSubmit={addPerson}>\n                <div>\n                Name: <input value={newName} onChange={handleNameChange}/>\n                </div>\n                <div>\n                Number: <input value={newNum} onChange={handleNumChange}/>\n                </div>\n                <div>\n                <button type=\"Submit\">add</button>\n                </div>\n            </form>\n        </>\n    )\n}\n\nexport default AddPerson","import React from 'react'\n\nconst AllPeople = ({persons, deletePerson}) => {\n    return (\n        <>\n            {persons.map(person => \n            <p key={person.name}>\n                {person.name} {person.number} \n                <button onClick = {()=>deletePerson(person.id)}> delete </button>\n            </p>\n            )}\n        </>\n    )\n}\n\nexport default AllPeople","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n    const req = axios.get(baseUrl)\n    return req.then(response => response.data)\n}\n\nconst create = personObj => {\n    const req = axios.post(baseUrl, personObj)\n    return req.then(response => response.data)\n}\n\nconst deleteObj = id => {\n    const req = axios.delete(`${baseUrl}/${id}`)\n    return req.then(response => response.data)\n}\n\nconst updateNum = (id, newObj) => {\n    const req = axios.put(`${baseUrl}/${id}`, newObj)\n    return req.then(response => response.data)\n}\n\nexport default {getAll, create, deleteObj, updateNum}\n","import React from 'react'\n\nconst SuccessNotif = ({msg}) => {\n    if (msg === null) {return null }\n\n    const notifStyle = {\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n    return (\n        <div style={notifStyle}>\n            {msg}\n        </div>\n    )\n}\n\nexport default SuccessNotif","import React from 'react'\n\nconst ErrorNotif = ({msg}) => {\n    if (msg === null) {return null }\n\n    const notifStyle = {\n        color: 'red',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n    return (\n        <div style={notifStyle}>\n            {msg}\n        </div>\n    )    \n}\n\nexport default ErrorNotif","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport AddPerson from './components/AddPerson'\nimport AllPeople from './components/AllPeople'\nimport personServ from './services/persons'\nimport SuccessNotif from './components/SuccessNotif'\nimport ErrorNotif from './components/ErrorNotif'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [newNum, setNewNum] = useState('')\n  const [search, setSearch] = useState('')\n  const [sucMsg, setSucMsg] = useState(null) \n  const [errMsg, setErrMsg] = useState(null)\n\n  useEffect(() => {\n    personServ\n      .getAll()\n      .then(curPersons => {\n        setPersons(curPersons)\n      })\n  }, [])\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObj = {\n      name: newName,\n      number: newNum\n    }\n\n    if (!persons.some(p => p.name === newName)) {\n      personServ \n        .create(personObj)\n        .then(retPerson => {\n          setPersons(persons.concat(retPerson))\n          setSucMsg(`Added ${newName}`)\n          setTimeout(() => {\n            setSucMsg(null)\n          }, 5000)\n          setNewName('')\n          setNewNum('')\n        })\n    }\n    else {\n      const msg = `${newName} is already included in the phonebook. Replace the old number with a new one?`\n      const pers = persons.find(p => p.name === newName)\n      if (window.confirm(msg)) {\n        personServ\n          .updateNum(pers.id, personObj)\n          .then(retPerson => {\n            setPersons(persons.map(p => p.id !== pers.id ? p : retPerson))\n            setSucMsg(`Changed the phone number of ${newName}`)\n            setTimeout(() => {\n            setSucMsg(null)\n          }, 5000)\n          })\n          .catch(error => {\n            setErrMsg(`${newName} has already been removed from phonebook`)\n            setTimeout(() => {\n              setErrMsg(null)\n            }, 5000)\n            setPersons(persons.filter(p => p.name !== newName))\n          })\n      }\n      setNewName('')\n      setNewNum('')\n    }\n  }\n\n  const deletePerson = id => {\n    const pers = persons.find(p => p.id === id)\n    if (window.confirm(`Delete ${pers.name}?`)) { \n      personServ\n        .deleteObj(id)\n        .then(retPerson => {\n          setPersons(persons.filter(person => person.id !== retPerson.id))\n          setSucMsg(`Removed ${pers.name} from phonebook`)\n            setTimeout(() => {\n            setSucMsg(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const handleNumChange = event => setNewNum(event.target.value)\n\n  const handleSearchChange = event => setSearch(event.target.value)\n\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <h2>Search</h2>\n      <Filter value={search} onChange={handleSearchChange} persons={persons}/>\n      <SuccessNotif msg={sucMsg} />\n      <ErrorNotif msg = {errMsg} />\n      <h2>Add New Person</h2>\n      <AddPerson addPerson={addPerson} newName={newName} newNum={newNum}\n      handleNameChange={handleNameChange} handleNumChange={handleNumChange}/>\n      <h2>All Numbers</h2>\n      <AllPeople persons={persons} deletePerson={deletePerson}/>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}